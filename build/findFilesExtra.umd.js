!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("fs-extra"),require("path"),require("glob-promise")):"function"==typeof define&&define.amd?define(["fs-extra","path","glob-promise"],e):(t||self).findFilesExtra=e(t.fsExtra,t.path,t.globPromise)}(this,function(t,e,n){function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=/*#__PURE__*/r(t),i=/*#__PURE__*/r(e),f=/*#__PURE__*/r(n),u="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function a(t,e,n){if(!t.s){if(n instanceof l){if(!n.s)return void(n.o=a.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(a.bind(null,t,e),a.bind(null,t,2));t.s=e,t.v=n;var r=t.o;r&&r(t)}}var l=/*#__PURE__*/function(){function t(){}return t.prototype.then=function(e,n){var r=new t,o=this.s;if(o){var i=1&o?e:n;if(i){try{a(r,1,i(this.v))}catch(t){a(r,2,t)}return r}return this}return this.o=function(t){try{var o=t.v;1&t.s?a(r,1,e?e(o):o):n?a(r,1,n(o)):a(r,2,o)}catch(t){a(r,2,t)}},r},t}();function d(t){return t instanceof l&&1&t.s}return function(t){try{var e=t.root,n=t.filePattern,r=void 0===n?"**/*.*":n,s=t.ignoreFilePattern,c=void 0===s?["**/bin/**","**/node_modules/**","**/obj/**"]:s,h=t.fileContentPattern,v=t.loadFileContent,p=void 0!==v&&v,b=t.parseJson,m=void 0!==b&&b,y=t.dot,g=void 0===y||y,w=t.nocase,x=void 0===w||w;if(!p&&m)throw new Error("findFileExtra: parseJson is only available when loadFileContent is true");return Promise.resolve(f.default(r,{ignore:c,cwd:e,nocase:x,dot:g})).then(function(t){var n=[],r=function(t,e,n){if("function"==typeof t[u]){var r,o,i,f=t[u]();if(function t(n){try{for(;!(r=f.next()).done;)if((n=e(r.value))&&n.then){if(!d(n))return void n.then(t,i||(i=a.bind(null,o=new l,2)));n=n.v}o?a(o,1,n):o=n}catch(t){a(o||(o=new l),2,t)}}(),f.return){var s=function(t){try{r.done||f.return()}catch(t){}return t};if(o&&o.then)return o.then(s,function(t){throw s(t)});s()}return o}if(!("length"in t))throw new TypeError("Object is not iterable");for(var c=[],h=0;h<t.length;h++)c.push(t[h]);return function(t,e,n){var r,o,i=-1;return function n(f){try{for(;++i<t.length;)if((f=e(i))&&f.then){if(!d(f))return void f.then(n,o||(o=a.bind(null,r=new l,2)));f=f.v}r?a(r,1,f):r=f}catch(t){a(r||(r=new l),2,t)}}(),r}(c,function(t){return e(c[t])})}(t,function(t){function r(){p||(f=void 0),f&&m&&".json"===s&&(c=JSON.parse(f)),n.push({fullPath:u,pathFromRoot:t,dirPathFromRoot:d,fileName:a,dirFullPath:l,ext:s,json:c,content:p?f:void 0})}var f,u=i.default.join(e,t),a=i.default.basename(u),l=i.default.dirname(u),d=i.default.dirname(t),s=i.default.extname(u),c=void 0,v=function(){if(h||p)return Promise.resolve(o.default.readFile(u,"utf8")).then(function(t){if(f=t,h)if(h instanceof RegExp&&!h.test(f));else if("string"==typeof h&&-1===f.indexOf(h))return})}();return v&&v.then?v.then(r):r()});return r&&r.then?r.then(function(){return n}):n})}catch(t){return Promise.reject(t)}}});
//# sourceMappingURL=findFilesExtra.umd.js.map
